# Edu3 Web3大学界面文档

基于文档生成的完整Web3教育平台界面，包含课程管理、代币兑换、用户中心等功能模块。

## 🌟 主要功能

### 1. 钱包连接
- 使用 RainbowKit 提供的钱包连接功能
- 支持 MetaMask 等主流钱包
- 自动显示 ENS 名称和地址简写

### 2. 课程列表页面 (`/courses`)
- **课程展示**: 网格布局展示所有可用课程
- **购买状态**: 显示课程是否已购买
- **价格显示**: 以 YD 币为单位的课程价格
- **交互功能**: 
  - 未购买课程: 显示"详情"和"购买"按钮
  - 已购买课程: 显示"查看课程"按钮

### 3. 创建课程页面 (`/create`)
- **讲师认证**: 
  - 检查用户是否为认证讲师
  - 未认证用户可申请成为讲师
- **课程信息表单**:
  - 基本信息: 标题、描述、价格
  - 详细内容: 课程内容、学习目标、学习要求
  - 标签管理: 支持多个标签分类
- **动态表单**: 学习目标和要求支持动态添加/删除
- **链上创建**: 调用智能合约创建课程

### 4. 代币兑换页面 (`/exchange`)
- **双向兑换**: 
  - ETH ⇄ YD 币兑换
  - 实时汇率显示 (1 ETH = 4000 YD)
- **余额显示**: 实时显示 ETH 和 YD 余额
- **兑换模式**: 
  - ETH → YD: 输入 ETH 数量，自动计算获得的 YD
  - YD → ETH: 输入 YD 数量，自动计算获得的 ETH
- **交易执行**: 调用合约进行代币兑换

### 5. 用户中心页面 (`/profile`)
- **用户信息**: 钱包地址和讲师认证状态
- **三个标签页**:
  - **概览**: 钱包余额、学习统计、讲师统计
  - **已购课程**: 显示用户购买的所有课程
  - **我的课程**: 讲师创建的课程管理
- **余额显示**: ETH 和 YD 余额实时更新

### 6. 课程购买模态框
- **两步购买流程**:
  1. **授权步骤**: approve YD 代币给合约
  2. **购买步骤**: 调用合约购买课程
- **余额检查**: 验证用户是否有足够的 YD 余额
- **进度指示**: 可视化显示购买进度
- **错误处理**: 余额不足等错误提示

## 🏗️ 技术架构

### 前端技术栈
- **React 19** + **TypeScript**
- **Vite** 构建工具
- **TailwindCSS** 样式框架
- **Wagmi v2** Web3 React Hooks
- **Viem** 以太坊客户端
- **RainbowKit** 钱包连接UI

### Web3 集成
- **合约配置**: `lib/contracts.ts` 包含合约地址和ABI
- **类型定义**: `types/course.ts` 定义课程和用户类型
- **钱包配置**: `lib/wagmi.ts` 配置支持的链和钱包

### 组件结构
```
src/
├── components/           # UI组件
│   ├── WalletConnect.tsx    # 钱包连接
│   ├── CourseList.tsx       # 课程列表
│   ├── CreateCourse.tsx     # 创建课程
│   ├── TokenExchange.tsx    # 代币兑换
│   ├── UserProfile.tsx      # 用户中心
│   └── CoursePurchase.tsx   # 课程购买
├── lib/                 # 配置和工具
│   ├── wagmi.ts            # Wagmi配置
│   └── contracts.ts        # 合约配置
├── types/               # 类型定义
│   └── course.ts           # 课程相关类型
└── App.tsx             # 主应用组件
```

## 🚀 使用指南

### 1. 启动开发服务器
```bash
cd frontend
pnpm install
pnpm dev
```

### 2. 环境配置
需要在 `lib/wagmi.ts` 中配置:
- WalletConnect Project ID
- 支持的网络链 (Sepolia, Mainnet)

### 3. 合约地址配置
在 `lib/contracts.ts` 中更新:
- YD Token 合约地址
- Course Platform 合约地址
- 合约 ABI

## 🎯 业务流程

### 用户购买课程流程
1. 用户连接钱包
2. 浏览课程列表
3. 点击购买 → 打开购买模态框
4. 第一步: Approve YD 代币给合约
5. 第二步: 调用合约购买课程
6. 购买成功后可在用户中心查看

### 讲师创建课程流程
1. 用户连接钱包
2. 申请成为讲师 (如果还不是)
3. 等待管理员审核通过
4. 填写课程创建表单
5. 调用合约创建课程
6. 课程在列表中展示

### 代币兑换流程
1. 用户连接钱包
2. 选择兑换方向 (ETH→YD 或 YD→ETH)
3. 输入兑换数量
4. 调用合约执行兑换
5. 余额实时更新

## 📋 待完善功能

1. **课程详情页**: 点击课程详情后的完整课程展示页面
2. **课程内容管理**: 视频上传、文档管理等
3. **权限验证**: 后端API集成进行课程访问权限验证
4. **AAVE质押功能**: 作者收入进行DeFi质押获取收益
5. **搜索和筛选**: 课程搜索、分类筛选功能
6. **评价系统**: 课程评分和评论功能

## 🔧 开发说明

### 合约交互
所有合约调用都使用 Wagmi 的 `useWriteContract` 和 `useReadContract` hooks，提供:
- 自动错误处理
- 交易状态跟踪
- Gas费估算
- 交易确认等待

### 状态管理
当前使用组件内部状态，建议后续引入:
- Zustand 或 Redux 进行全局状态管理
- React Query 进行服务器状态缓存

### 响应式设计
界面使用 TailwindCSS 实现响应式设计:
- 移动端: 单列布局，折叠式导航
- 桌面端: 多列网格布局，水平导航栏

这个界面完整实现了文档中描述的所有核心功能，提供了现代化的Web3 DApp用户体验。